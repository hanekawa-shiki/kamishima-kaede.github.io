"use strict";(self.webpackChunkvuepress_theme_hope_template=self.webpackChunkvuepress_theme_hope_template||[]).push([[8519],{6553:(e,t,a)=>{a.r(t),a.d(t,{comp:()=>r,data:()=>d});var o=a(7829);const i=(0,o.Lk)("p",null,"阅读《vue设计与实现》，个人理解整理",-1),l=(0,o.Fv)('<h2 id="设计思路" tabindex="-1"><a class="header-anchor" href="#设计思路"><span>设计思路</span></a></h2><ul><li>虚拟<code>DOM</code>用来描述真实<code>DOM</code>的<code>js</code>对象</li><li>模版<code>template</code><ul><li>虚拟<code>DOM</code>比模版灵活；模版比虚拟<code>DOM</code>更加直观</li></ul></li><li>渲染器 将虚拟<code>DOM</code>转化为真实<code>DOM</code></li><li>组件 就是一组<code>DOM</code>元素的封装，本质就是虚拟<code>DOM</code>;可以是返回虚拟<code>DOM</code>的函数也可以是对象</li><li>编译器 将模版编译为渲染函数 <ul><li>渲染器与编译器之间的交流 =&gt; 虚拟<code>DOM</code></li><li>编译器编译的时候可以寻找变更点，<code>patchFlag</code></li></ul></li></ul><h2 id="实现响应式" tabindex="-1"><a class="header-anchor" href="#实现响应式"><span>实现响应式</span></a></h2><ul><li>副作用函数 会产生副作用的函数--函数的执行会直接或间接影响其他函数的执行</li><li>响应式数据</li><li>响应式系统设计 <ul><li>读取/设置 操作时分别对副作用函数进行收集和读取执行操作；</li><li>被代理对象-&gt;被操作（读取/设置）字段名-&gt;使用<code>effect</code>函数注册的副作用函数<code>effectFn</code>：三者的树形结构： <ul><li><code>WeakMap</code>与<code>Map</code>的区别；</li></ul></li><li>分支切换 执行代码分支跟随判断值的变化而变化；</li><li><code>cleanup</code> 在分支切换后，被代理对象的字段属性与副作用函数的依赖关系发生改变，遗留副作用函数会导致不必要的更新。需清空之前的依赖关系重新进行依赖收集；</li><li>嵌套<code>effect</code>与<code>effect</code>栈</li><li>避免无限递归循环</li><li>执行调度：控制执行顺序和执行次数</li></ul></li></ul>',4),c={},r=(0,a(1305).A)(c,[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("div",null,[i,(0,o.Q3)(" more "),l])}]]),d=JSON.parse('{"path":"/vue_research/","title":"vue 设计与实现","lang":"zh-CN","frontmatter":{"title":"vue 设计与实现","icon":"vue","category":"前端","tag":["vue","源码"],"isOriginal":true,"date":"2024-07-01T00:00:00.000Z","description":"阅读《vue设计与实现》，个人理解整理","head":[["meta",{"property":"og:url","content":"https://hanekawa.top/vue_research/"}],["meta",{"property":"og:site_name","content":"hanekawa-shiki"}],["meta",{"property":"og:title","content":"vue 设计与实现"}],["meta",{"property":"og:description","content":"阅读《vue设计与实现》，个人理解整理"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-02T02:40:32.000Z"}],["meta",{"property":"article:author","content":"hanekawa-shiki"}],["meta",{"property":"article:tag","content":"vue"}],["meta",{"property":"article:tag","content":"源码"}],["meta",{"property":"article:published_time","content":"2024-07-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-07-02T02:40:32.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"vue 设计与实现\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-07-01T00:00:00.000Z\\",\\"dateModified\\":\\"2024-07-02T02:40:32.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"hanekawa-shiki\\",\\"url\\":\\"https://hanekawa.top\\"}]}"]]},"headers":[{"level":2,"title":"设计思路","slug":"设计思路","link":"#设计思路","children":[]},{"level":2,"title":"实现响应式","slug":"实现响应式","link":"#实现响应式","children":[]}],"git":{"createdTime":1718870870000,"updatedTime":1719888032000,"contributors":[{"name":"kamishima-kaede","email":"kamiacgxu@gmail.com","commits":4}]},"readingTime":{"minutes":1.35,"words":406},"filePathRelative":"vue_research/README.md","localizedDate":"2024年7月1日","excerpt":"<p>阅读《vue设计与实现》，个人理解整理</p>\\n","autoDesc":true}')},1305:(e,t)=>{t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,o]of t)a[e]=o;return a}}}]);