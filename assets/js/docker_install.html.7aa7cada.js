"use strict";(self.webpackChunkvuepress_theme_hope_template=self.webpackChunkvuepress_theme_hope_template||[]).push([[628],{7449:(i,s,e)=>{e.r(s),e.d(s,{comp:()=>r,data:()=>h});var a=e(7829);const t=[(0,a.Fv)('<h1 id="docker安装" tabindex="-1"><a class="header-anchor" href="#docker安装"><span><code>Docker</code>安装</span></a></h1><p><code>Docker</code>安装方式可以参照<a href="https://docs.docker.com/engine/install/" target="_blank" rel="noopener noreferrer">官方文档</a></p><p>本人是在<code>Ubuntu 20.04</code>中安装使用<code>Docker</code>，使用的是中科大<code>Docker CE</code>源，<code>Docker Hub</code>镜像加速器配置的是阿里云镜像。</p><h2 id="安装docker-ce" tabindex="-1"><a class="header-anchor" href="#安装docker-ce"><span>安装<code>Docker CE</code></span></a></h2><p><a href="https://docs.docker.com/engine/install/ubuntu/" target="_blank" rel="noopener noreferrer">官网Ubuntu安装Docker步骤</a><br><a href="https://mirrors.ustc.edu.cn/help/docker-ce.html" target="_blank" rel="noopener noreferrer">Docker CE源</a></p><p>你可以参考以上文档自己安装，也可以直接复制下面我整理好的命令安装。</p><p>1.卸载旧版<code>Docker</code></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker-engine</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker.io</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> containerd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> runc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>2.使用<code>apt</code>软件库进行安装</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> update</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    ca-certificates</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    gnupg</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    lsb-release</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>添加<code>Docker</code>的官方<code>GPG</code>密钥。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 0755</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/apt/keyrings</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -fsSL</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/gpg</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gpg</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --dearmor</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/apt/keyrings/docker.gpg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>设置版本库。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  &quot;deb [arch=$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --print-architecture</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">) signed-by=/etc/apt/keyrings/docker.gpg] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">lsb_release</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -cs</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">) stable&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> tee</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/apt/sources.list.d/docker.list</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /dev/null</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装<code>Docker</code></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> update</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>安装最新版本</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker-ce</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker-ce-cli</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> containerd.io</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker-buildx-plugin</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker-compose-plugin</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>测试验证<code>Docker</code>是否安装成功</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> hello-world</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="设置镜像加速" tabindex="-1"><a class="header-anchor" href="#设置镜像加速"><span>设置镜像加速</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/docker</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> tee</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/docker/daemon.json</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;&lt;-</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">&#39;EOF&#39;</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">{</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  &quot;registry-mirrors&quot;: [&quot;https://&lt;your_code&gt;.mirror.aliyuncs.com&quot;]</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">}</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">EOF</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> daemon-reload</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>你也可以设置多个镜像地址，一下是常用<code>Docker Hub</code>镜像加速器列表</p><table><thead><tr><th>镜像加速器</th><th>镜像加速器地址</th><th>专属加速器<a href="#" title="需登录后获取平台分配的专属加速器">？</a></th><th>其它加速<a href="#" title="支持哪些镜像来源的镜像加速">？</a></th></tr></thead><tbody><tr><td><a href="https://github.com/DaoCloud/public-image-mirror" target="_blank" rel="noopener noreferrer">DaoCloud 镜像站</a></td><td><code>https://docker.m.daocloud.io</code></td><td></td><td>Docker Hub、GCR、K8S、GHCR、Quay、NVCR 等</td></tr><tr><td><a href="https://cr.console.aliyun.com" target="_blank" rel="noopener noreferrer">阿里云</a></td><td><code>https://&lt;your_code&gt;.mirror.aliyuncs.com</code></td><td>需登录，系统分配</td><td>Docker Hub</td></tr><tr><td><a href="https://c.163yun.com/hub" target="_blank" rel="noopener noreferrer">网易云</a></td><td><code>https://hub-mirror.c.163.com</code></td><td></td><td>Docker Hub</td></tr><tr><td><a href="https://dockerproxy.com" target="_blank" rel="noopener noreferrer">Docker 镜像代理</a></td><td><code>https://dockerproxy.com</code></td><td></td><td>Docker Hub、GCR、K8S、GHCR</td></tr><tr><td><a href="https://cloud.baidu.com/doc/CCE/s/Yjxppt74z#%E4%BD%BF%E7%94%A8dockerhub%E5%8A%A0%E9%80%9F%E5%99%A8" target="_blank" rel="noopener noreferrer">百度云</a></td><td><code>https://mirror.baidubce.com</code></td><td></td><td>Docker Hub</td></tr><tr><td><a href="https://doc.nju.edu.cn/books/35f4a" target="_blank" rel="noopener noreferrer">南京大学镜像站</a></td><td><code>https://docker.nju.edu.cn</code></td><td></td><td>Docker Hub、GCR、GHCR、Quay、NVCR 等</td></tr></tbody></table>',24)],n={},r=(0,e(1305).A)(n,[["render",function(i,s){return(0,a.uX)(),(0,a.CE)("div",null,t)}]]),h=JSON.parse('{"path":"/docker/install.html","title":"Docker安装","lang":"zh-CN","frontmatter":{"article":false,"description":"Docker安装 Docker安装方式可以参照官方文档 本人是在Ubuntu 20.04中安装使用Docker，使用的是中科大Docker CE源，Docker Hub镜像加速器配置的是阿里云镜像。 安装Docker CE 官网Ubuntu安装Docker步骤 Docker CE源 你可以参考以上文档自己安装，也可以直接复制下面我整理好的命令安装。 1...","head":[["meta",{"property":"og:url","content":"https://hanekawa.top/docker/install.html"}],["meta",{"property":"og:site_name","content":"hanekawa-shiki"}],["meta",{"property":"og:title","content":"Docker安装"}],["meta",{"property":"og:description","content":"Docker安装 Docker安装方式可以参照官方文档 本人是在Ubuntu 20.04中安装使用Docker，使用的是中科大Docker CE源，Docker Hub镜像加速器配置的是阿里云镜像。 安装Docker CE 官网Ubuntu安装Docker步骤 Docker CE源 你可以参考以上文档自己安装，也可以直接复制下面我整理好的命令安装。 1..."}],["meta",{"property":"og:type","content":"website"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-03-22T06:56:18.000Z"}],["meta",{"property":"article:author","content":"hanekawa-shiki"}],["meta",{"property":"article:modified_time","content":"2023-03-22T06:56:18.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"WebPage\\",\\"name\\":\\"Docker安装\\",\\"description\\":\\"Docker安装 Docker安装方式可以参照官方文档 本人是在Ubuntu 20.04中安装使用Docker，使用的是中科大Docker CE源，Docker Hub镜像加速器配置的是阿里云镜像。 安装Docker CE 官网Ubuntu安装Docker步骤 Docker CE源 你可以参考以上文档自己安装，也可以直接复制下面我整理好的命令安装。 1...\\"}"]]},"headers":[{"level":2,"title":"安装Docker CE","slug":"安装docker-ce","link":"#安装docker-ce","children":[]},{"level":2,"title":"设置镜像加速","slug":"设置镜像加速","link":"#设置镜像加速","children":[]}],"git":{"createdTime":1679392917000,"updatedTime":1679468178000,"contributors":[{"name":"shiki ryougi","email":"shikiryougi@shikideMacBook.local","commits":2}]},"readingTime":{"minutes":1.53,"words":459},"filePathRelative":"docker/install.md","localizedDate":"2023年3月21日","excerpt":"\\n<p><code>Docker</code>安装方式可以参照<a href=\\"https://docs.docker.com/engine/install/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">官方文档</a></p>\\n<p>本人是在<code>Ubuntu 20.04</code>中安装使用<code>Docker</code>，使用的是中科大<code>Docker CE</code>源，<code>Docker Hub</code>镜像加速器配置的是阿里云镜像。</p>\\n<h2>安装<code>Docker CE</code></h2>","autoDesc":true}')},1305:(i,s)=>{s.A=(i,s)=>{const e=i.__vccOpts||i;for(const[i,a]of s)e[i]=a;return e}}}]);